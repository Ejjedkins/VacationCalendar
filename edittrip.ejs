<%- include('../partials/header')-%>
<body class="text-center">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <%- include('../partials/nav'); -%>
        <%
        function format(dt) {
            var date = new Date(dt);
            var ds = "" + date.getFullYear() + "-";
            if(date.getMonth() + 1 < 10) {
                ds += "0" + (date.getMonth() + 1);
            }
            else {
                ds += (date.getMonth() + 1);
            }

            ds += "-";
            if(date.getDay() < 10) {
                ds += "0" + date.getDay();

            }
            else {
                ds += date.getDay();
            }

            return ds;
            
        }
        locals.startDate = format(locals.trip.startdate);
        locals.endDate = format(locals.trip.enddate);
        
        %>
         <main role="main" class="inner cover">
            <h1 class="cover-heading">Edit Trip</h1>
            <form method="POST">
                <input type="hidden" name="tripid" value ="<%= locals.trip.id %>" />
                <div class="form-group">
                    <label for="TripName">Destination</label>
                        <SELECT name="destinationid">
                            <% locals.destination.forEach(function(destination) { %>
                                <option value=<%= destination.id %> > <%= destination.city %>, <%= destination.country%></option>
                            <%});%>
                            </SELECT>
                </div>
                <div class="form-group">
                    <label for="TripName">Trip Name</label>
                    <input type="text" class="form-control" value="<%= locals.trip.tripname %>"
                         id="tname" name="tripname" placeholder="Enter Trip Name" required>
                </div>
                <div class="form-group">
                    <label for="Transportation">Transportation</label>
                    <input type="text" class="form-control" id="transport" value="<%= locals.trip.transportation %>"
                    
                         name="transportation" placeholder="Enter Transportation" required>
                </div>
                <div class="form-group">
                    <label for="startdate">Start Date</label>
                    <input type="date" class="form-control" id="stdate" 
                        value="<%= locals.startDate  %>"
                        name="startdate"  required>
                </div>
                <div class="form-group">
                    <label for="enddate">End Date</label>
                    <input type="date" class="form-control" id="eddate" value="<%= locals.endDate %>" name="enddate" required>
                </div>
                <button type="submit" class="btn btn-dark">Submit</button>
            </form>
        </main>
    </div>
</body>

</html>
